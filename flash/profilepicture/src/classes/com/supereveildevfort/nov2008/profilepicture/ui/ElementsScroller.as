package com.supereveildevfort.nov2008.profilepicture.ui {	import fl.transitions.easing.Regular;			import com.gskinner.motion.GTween;		import com.supereveildevfort.nov2008.profilepicture.events.ScrollerEvent;			import flash.display.Sprite;import flash.utils.getDefinitionByName; 		/**	 * @class ElementsScroller.as	 * @namespace com.supereveildevfort.nov2008.profilepicture.ui	 * @author Niqui Merret	 * @version 1.0	 * @date Nov 25, 2008	 * @description	 * @usage	 * NOTE:	 * TODO:	 *	 */	public class ElementsScroller extends Sprite 	{		private var mScrollBar : ScrollBar;		private var mElementsPanel : ElementsPanel;		private var mScrollerChange : Number;		private var mScreenCount : Number;		private var mMask : Sprite;				private var mTargetX : Number = 20;		private var mRightSide : Number;				private var mTween : GTween;		public function ElementsScroller ()		{			init();		}				public function set elementsPanel (pElementsPanel : ElementsPanel) : void		{						mElementsPanel = pElementsPanel;			mElementsPanel.x = 20;						mScreenCount = Math.floor(mElementsPanel.width/mScrollerChange);			mScrollBar.segments = mScreenCount;						mElementsPanel.mask = mMask;						mRightSide = (mScreenCount-1) * mMask.width;		}				/**		* @method private init()		* @description initial creation of the display and all objects. 		* @param 		* @returns 		*/		private function init () : void		{			var bg : Sprite = new Sprite();			addChild(bg);			var bgImgC : Class = getDefinitionByName("ScrollerBackground") as Class;			var bgImg : Sprite = new bgImgC() as Sprite;			bg.addChild(bgImg);						mScrollBar = new ScrollBar();			addChild(mScrollBar);			mScrollBar.y = bg.height + 10;			mScrollBar.addEventListener(ScrollerEvent.SCROLL_ITEMS, onScrollItemsHandler);			mElementsPanel = new ElementsPanel();			addChild(mElementsPanel);						mScrollerChange = mScrollBar.width - 1;						mMask = new Sprite();			mMask.graphics.beginFill(0x000000, 1);			mMask.graphics.drawRect(0, 0, bg.width, bg.height);			mMask.graphics.endFill();			addChild(mMask);								}		private function onScrollItemsHandler (e : ScrollerEvent) : void		{						var dir : String = e.direction;						if (dir == "left")			{				if (mTargetX < 0)				{					mTargetX += mScrollerChange - 14;										}				}			else if (dir == "right")			{				if (mTargetX > -mRightSide)				{					mTargetX -= mScrollerChange - 14;						}			}						mTween = new GTween(mElementsPanel, .5, {x:mTargetX});			mTween.ease = Regular.easeInOut;					}	}}