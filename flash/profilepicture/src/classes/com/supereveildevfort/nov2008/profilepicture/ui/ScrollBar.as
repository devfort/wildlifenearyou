package com.supereveildevfort.nov2008.profilepicture.ui {	import com.gskinner.motion.GTween;		import com.supereveildevfort.nov2008.profilepicture.events.ScrollerEvent;		import com.niquimerret.events.InteractionEvent;		import com.supereveildevfort.nov2008.profilepicture.ui.buttons.ScrollerArrow;			import flash.display.Sprite;import flash.utils.getDefinitionByName; 		/**	 * @class ScrollBar.as	 * @namespace com.supereveildevfort.nov2008.profilepicture.ui	 * @author Niqui Merret	 * @version 1.0	 * @date Nov 25, 2008	 * @description	 * @usage	 * NOTE:	 * TODO:	 *	 */	public class ScrollBar extends Sprite 	{		private var mRightArrow : ScrollerArrow;		private var mLeftArrow : ScrollerArrow;		private var mKnob : Sprite;		private var mSegments : Number;		private var mScrollerBG : Sprite;						private var mTargetX : Number = 0;		private var mTween : GTween;				private var mPadding : Number;		public function ScrollBar ()		{						init();					}				public function set segments (pSegments : Number) : void		{			mSegments = pSegments;			mKnob.x = mPadding;			mTargetX = 0;			mKnob.width = mScrollerBG.width/mSegments;		}				private function init () : void		{						mScrollerBG = new Sprite();			addChild(mScrollerBG);						var bgC : Class = getDefinitionByName("Bar") as Class;			var bgImg : Sprite = new bgC() as Sprite;			mScrollerBG.addChild(bgImg);						mKnob = new Sprite();			addChild(mKnob);						var knobC : Class = getDefinitionByName("KnobThing") as Class;			var knobImg : Sprite = new knobC() as Sprite;			mKnob.addChild(knobImg);									mLeftArrow = new ScrollerArrow("Left Arrow");			addChild(mLeftArrow);			mLeftArrow.addEventListener(InteractionEvent.CLICKED, onScrollLeft);						mRightArrow = new ScrollerArrow("Right Arrow");			addChild(mRightArrow);			mRightArrow.rotation = 180;			mRightArrow.y += mRightArrow.height;			mRightArrow.addEventListener(InteractionEvent.CLICKED, onScrollRight);						mPadding =  mLeftArrow.width + 9;			mScrollerBG.x = mLeftArrow.width + 7;			mRightArrow.x = mScrollerBG.x + mScrollerBG.width + 17;			mKnob.x = mPadding;					}				private function onScrollLeft (e : InteractionEvent) : void		{						dispatchEvent(new ScrollerEvent(ScrollerEvent.SCROLL_ITEMS, "left"));			if (mTargetX > mScrollerBG.width/mSegments - 1)			{				mTargetX -= mScrollerBG.width/mSegments;			}			mTargetX += mPadding;			mTween = new GTween(mKnob, .5, {x : mTargetX});		}		private function onScrollRight (e : InteractionEvent) : void		{			dispatchEvent(new ScrollerEvent(ScrollerEvent.SCROLL_ITEMS, "right"));				if (mTargetX < (mScrollerBG.width/mSegments * (mSegments-1)))			{				mTargetX += mScrollerBG.width/mSegments;			}			mTargetX += mPadding;			mTween = new GTween(mKnob, .5, {x : mTargetX});		}	}}